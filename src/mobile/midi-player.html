<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MIDI Player</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0a1f44">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MusicPlayer">
    <meta name="description" content="A mobile-first MusicXML player with soundfont support">
    
    <!-- PWA Links -->
    <link rel="manifest" href="../../public/manifest.json">
    <link rel="apple-touch-icon" href="../../public/icons/icon-192x192.png">
    
    <!-- Mobile-specific CSS -->
    <link rel="stylesheet" href="styles/mobile.css">
    <link rel="stylesheet" href="styles/home.css">
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <img src="assets/logo.svg" alt="Logo" class="logo">
        <button class="premium-button">
            <span>Unlock Premium</span>
            <svg width="16" height="16" viewBox="0 0 24 24">
                <path fill="currentColor" d="M12 17a1 1 0 0 1-.707-.293l-4-4a1 1 0 0 1 1.414-1.414L12 14.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-4 4A1 1 0 0 1 12 17z"/>
            </svg>
        </button>
        <button class="settings-button">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path fill="currentColor" d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.65.07.97l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65z"/>
            </svg>
        </button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="midi-player-placeholder">
            <h1>MIDI Player</h1>
            <p>Coming soon! This feature is currently under development.</p>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/>
            </svg>
            <span>Home</span>
        </a>
        <a href="midi-player.html" class="nav-item active">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M12,3V13.55C11.41,13.21 10.73,13 10,13C7.79,13 6,14.79 6,17S7.79,21 10,21 14,19.21 14,17V7H18V3H12Z"/>
            </svg>
            <span>MIDI Player</span>
        </a>
        <a href="#" class="nav-item" id="add-button" onclick="return openUploadModal()">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
            </svg>
            <span>Add</span>
        </a>
        <a href="#" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z"/>
            </svg>
            <span>Play</span>
        </a>
        <a href="mylibrary.html" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M19,2L14,6.5V17.5L19,13V2M6.5,5C4.55,5 2.45,5.4 1,6.5V21.16C1,21.41 1.25,21.66 1.5,21.66C1.6,21.66 1.65,21.59 1.75,21.59C3.1,20.94 5.05,20.5 6.5,20.5C8.45,20.5 10.55,20.9 12,22C13.35,21.15 15.8,20.5 17.5,20.5C19.15,20.5 20.85,20.81 22.25,21.56C22.35,21.61 22.4,21.59 22.5,21.59C22.75,21.59 23,21.34 23,21.09V6.5C22.4,6.05 21.75,5.75 21,5.5V19C19.9,18.65 18.7,18.5 17.5,18.5C15.8,18.5 13.35,19.15 12,20V6.5C10.55,5.4 8.45,5 6.5,5Z"/>
            </svg>
            <span>Library</span>
        </a>
    </nav>

    <!-- Scripts -->
    <script type="module" src="js/mobile-app.js"></script>

    <!-- Upload Modal -->
    <div id="upload-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="handle"></div>
                <h2>Upload songs</h2>
            </div>
            
            <div class="upload-options">
                <div class="upload-option" id="take-photo">
                    <div class="upload-icon">
                        <svg viewBox="0 0 24 24">
                            <path fill="currentColor" d="M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z" />
                        </svg>
                    </div>
                    <div class="upload-info">
                        <h3>Take a photo</h3>
                        <p>Allow access to your camera and start scanning your music sheets with Halbestunde app.</p>
                        <button class="subscribe-btn">Subscribe</button>
                    </div>
                </div>
                
                <div class="upload-option" id="upload-photo">
                    <div class="upload-icon">
                        <svg viewBox="0 0 24 24">
                            <path fill="currentColor" d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
                        </svg>
                    </div>
                    <div class="upload-info">
                        <h3>Upload photo</h3>
                        <p>Browse and upload photos from your device. (JPG / PNG / max. 4mb)</p>
                        <button class="subscribe-btn">Subscribe</button>
                    </div>
                </div>
                
                <div class="upload-option" id="upload-pdf">
                    <div class="upload-icon">
                        <svg viewBox="0 0 24 24">
                            <path fill="currentColor" d="M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19M18.5,18.5V19H19V18.5H18.5M9.5,14.25V19H5V14.25H9.5M14.5,19V14.25H10V19H14.5M19,19V14.25H15V19H19M9.5,13.75V9H5V13.75H9.5M14.5,13.75V9H10V13.75H14.5M19,13.75V9H15V13.75H19M9.5,8.5V5H5V8.5H9.5M14.5,8.5V5H10V8.5H14.5M19,8.5V5H15V8.5H19Z" />
                        </svg>
                    </div>
                    <div class="upload-info">
                        <h3>Upload PDF</h3>
                        <p>Browse and upload files from your device. (PDF max. 4mb)</p>
                        <button class="subscribe-btn">Subscribe</button>
                    </div>
                </div>
                
                <div class="upload-option" id="upload-musicxml">
                    <div class="upload-icon">
                        <svg viewBox="0 0 24 24">
                            <path fill="currentColor" d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M9,13V19H7V13H9M15,15V19H17V15H15M11,11V19H13V11H11Z" />
                        </svg>
                    </div>
                    <div class="upload-info">
                        <h3>Upload MusicXML</h3>
                        <p>Import MusicXML files directly for accurate musical notation. (.xml, .musicxml max. 4mb)</p>
                        <button class="subscribe-btn">Subscribe</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/upload.js"></script>
    
    <!-- Direct Modal Control Script -->
    <script>
        // Direct modal control that doesn't depend on modules
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Direct modal script loaded');
            
            // Function to open modal
            window.openUploadModal = function() {
                console.log('Opening modal from inline script');
                const modal = document.getElementById('upload-modal');
                if (modal) {
                    modal.classList.add('active');
                    setTimeout(() => {
                        document.body.style.overflow = 'hidden';
                    }, 300);
                    return false;
                }
            };
            
            // Function to close modal
            window.closeUploadModal = function() {
                console.log('Closing modal from inline script');
                const modal = document.getElementById('upload-modal');
                if (modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            };
            
            // Set up the add button with direct handler
            const addButton = document.getElementById('add-button');
            if (addButton) {
                addButton.setAttribute('onclick', 'return openUploadModal()');
            }
            
            // Set up the modal overlay with direct handler
            const modalOverlay = document.querySelector('.modal-overlay');
            if (modalOverlay) {
                modalOverlay.setAttribute('onclick', 'closeUploadModal()');
            }
        });
    </script>
</body>
</html> 